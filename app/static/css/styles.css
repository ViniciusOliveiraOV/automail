@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

/* Keep only typography defaults here. Do NOT force a global dark background.
   The layout and color system is provided by Tailwind; this file contains
   targeted overrides only (panels, buttons, score badges). */
html, body {
  height: 100%;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
  color: inherit;
  background: inherit;
}

/* Tiled background rendered as a subtle blurred overlay. We use a
   ::before pseudo-element so we can apply blur and opacity while keeping
   page content crisp above it. Increase tile size so fewer tiles are
   visible, and reduce opacity to avoid clutter. */
body {
  background-color: #f8fafc; /* base gap color between tiles */
  position: relative;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image: url('/static/images/tiled_bg_email.png');
  background-repeat: repeat;
  /* larger width with automatic height preserves aspect ratio and
    makes tiles appear less flattened */
  background-size: 420px auto;
  background-position: center;
  opacity: 0.18; /* subtle */
  filter: blur(6px) saturate(0.8);
}

/* Ensure main content stacks above the background overlay */
#main { position: relative; z-index: 2; padding: 4rem 1.5rem; }

/* Headings should be dark by default so they're readable on white panels */
h1, h2, h3, h4 {
  color: #0f172a;
  font-weight: 700;
}

label {
  font-weight: 600;
  color: #374151;
}

textarea, input, select {
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  padding: 0.75rem;
  width: 100%;
  color: #111827;
  background-color: #fff;
}

textarea:focus, input:focus {
  outline: none;
  border-color: #6366f1; /* Indigo vibe */
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
}

button {
  background: linear-gradient(to right, #6366f1, #8b5cf6);
  color: rgb(0, 0, 0);
  font-weight: 600;
  padding: 0.75rem 1.25rem;
  border-radius: 0.5rem;
  transition: all 0.2s;
}

button:hover {
  filter: brightness(1.1);
  transform: translateY(-1px);
}

/* Explicit project primary button to avoid Tailwind specificity conflicts */
.btn-primary {
  background: linear-gradient(to right, #6366f1, #8b5cf6);
  color: #ffffff !important;
  font-weight: 600;
  padding: 0.75rem 1.25rem;
  border-radius: 0.5rem;
  transition: all 0.18s ease;
  border: none;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}
.btn-primary:hover{ filter: brightness(1.05); transform: translateY(-1px); }

/* Target the visible "Escolher arquivo" span that follows the hidden file input.
   Using the adjacent sibling selector ensures this style applies even if Tailwind
   utilities are present or inspector shows only the text node's path. */
input[type="file"].sr-only + span,
label input[type="file"].sr-only + span {
  background: #000 !important;
  color: #fff !important;
  padding: 0.5rem 1rem !important;
  border-radius: 0.375rem !important;
  border: 1px solid #000 !important;
  font-size: 0.9rem !important;
  display: inline-flex !important;
  align-items: center !important;
}

input[type="file"].sr-only + span:hover,
label input[type="file"].sr-only + span:hover {
  background: #111 !important;
}


.card {
  background: white;
  border-radius: 1rem;
  padding: 2rem;
  box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1),
              0 4px 6px -2px rgba(0,0,0,0.05);
}

/* Ensure panels meant to be white remain white and readable when the page
   uses a dark global background. Use a specific .panel helper and also
   reinforce Tailwind's .bg-white utility when necessary. */
.panel, .bg-white {
  background-color: #ffffff !important;
  color: #0f172a !important; /* slate-900 */
  box-shadow: 0 8px 30px rgba(2,6,23,0.12) !important;
  border: 1px solid rgba(15,23,42,0.06) !important;
}

/* Small margin around panels so the tiled background shows between them */
.panel { margin: 0.5rem; }

/* Ensure typographic content inside panels is dark for contrast */
.panel .prose, .panel p, .panel pre, .panel code, .panel dd {
  color: #0f172a !important;
}

/* Slight tweak for the small score boxes rendered by classifier */
.score-panel .score-card { background: linear-gradient(180deg, #ffffff, #f8fafc); border-radius: 0.5rem; padding: 0.75rem; }
.score-panel .score-card:first-child .score-count { color: #059669 !important; font-weight:700; font-size:1.25rem }
.score-panel .score-card:nth-child(2) .score-count { color: #ef4444 !important; font-weight:700; font-size:1.25rem }

/* Explicit positive/negative label styles used by the renderer */
.score-good { color: #059669 !important; font-weight:700; }
.score-bad { color: #ef4444 !important; font-weight:700; }

/* Ensure the rendered HTML fragment is dark and readable when injected into pages */
.score-render, .score-panel, #score-panel {
  color: #0f172a !important;
}

.score-render h4 {
  color: #0f172a !important;
  margin: 0 0 0.25rem 0;
}

.score-list { margin-top: 0.5rem; padding-left: 1rem; }
.score-details { color: #0f172a; font-size: 0.95rem; }

/* Drag-and-drop helpers */
.drop-hint {
  margin-top: 0.5rem;
  font-size: 0.85rem;
  color: #6b7280; /* slate-500 */
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}
.drag-active {
  outline: 2px dashed rgba(99,102,241,0.6);
  outline-offset: 6px;
  background-color: rgba(99,102,241,0.03);
}

/* Small animated icon next to the drop hint */
.drop-hint .hint-icon {
  width: 18px;
  height: 18px;
  display: inline-block;
  flex: 0 0 18px;
  fill: #4f46e5; /* indigo-600 */
  transform-origin: center;
  animation: hint-pulse 1.8s ease-in-out infinite;
}

@keyframes hint-pulse {
  0% { transform: translateY(0) scale(1); opacity: 0.95 }
  40% { transform: translateY(-3px) scale(1.05); opacity: 1 }
  100% { transform: translateY(0) scale(1); opacity: 0.95 }
}

/* filename pill shown when a file is attached */
.file-pill {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  margin-left: 0.5rem;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  background: #eef2ff; /* indigo-50 */
  color: #3730a3; /* indigo-700 */
  font-size: 0.85rem;
  border: 1px solid #e0e7ff;
}
.file-pill button {
  background: transparent;
  border: none;
  padding: 0;
  color: #6b7280;
  cursor: pointer;
}
.file-pill button:focus{ outline: 2px solid rgba(99,102,241,0.3); border-radius: 9999px }
